<nav aria-label="Page navigation" *ngIf="total_pages > 1">

  <ul class="pagination justify-content-center">
    <!-- Previous Button: Disabled if on the first page -->
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="goToPreviousPage()">Previous</button>
    </li>

    <!-- First Page Button: Show only if currentPage is greater than 3 -->
    <li class="page-item" *ngIf="currentPage > 3">
      <button class="page-link" (click)="goToPage(1)">1</button>
    </li>

    <!-- Ellipsis: Display between first page and current page if gap exists -->
    <li class="page-item disabled" *ngIf="currentPage > 4">
      <span class="page-link">...</span>
    </li>

    <!-- Display Previous Two Pages, Current Page, and Next Two Pages -->
    <li class="page-item" *ngFor="let page of getVisiblePages()" [class.active]="page === currentPage">
      <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
    </li>

    <!-- Ellipsis: Display between current page and last page if gap exists -->
    <li class="page-item disabled" *ngIf="currentPage < total_pages - 3">
      <span class="page-link">...</span>
    </li>

    <!-- Last Page Button: Show only if currentPage is not one of the last 3 pages -->
    <li class="page-item" *ngIf="currentPage < total_pages - 2">
      <button class="page-link" (click)="goToPage(total_pages)">{{ total_pages }}</button>
    </li>

    <!-- Next Button: Disabled if on the last page -->
    <li class="page-item" [class.disabled]="currentPage === total_pages">
      <button class="page-link" (click)="goToNextPage()">Next</button>
    </li>
  </ul>
</nav>
